@using magero_store.Models
@model IEnumerable<Product>
@{
    ViewData["Title"] = "Products";
    Layout = "_Layout";
}

<!-- Hero Header Section -->
<div class="hero-header">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <div class="container">
            <div class="hero-text">
                <h1 class="hero-title">Nuestra Tienda</h1>
                <p class="hero-subtitle">Descubre una amplia selecci√≥n de productos de alta calidad para todas tus necesidades</p>
                <a href="#products-section" class="btn btn-hero">Explorar Productos</a>
            </div>
        </div>
    </div>
</div>

<!-- Search Section -->
<div class="search-section" id="products-section">
    <div class="container">
        <form asp-action="Search" asp-controller="Products" method="get" class="search-form">
            <div class="search-input-group">
                <input type="text" name="searchTerm" class="search-input" placeholder="Buscar productos...">
                <button class="btn btn-search" type="submit">
                    <i class="search-icon">üîç</i>
                    Buscar
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Products Grid Section -->
<div class="products-section">
    <div class="container">
        <h2 class="section-heading">Nuestros Productos</h2>
        <div class="products-grid">
            @foreach (var product in Model)
            {
                <div class="product-card">
                    <div class="product-image-wrapper">
                        <img src="@product.ImageUrl" class="product-image" alt="@product.Name" />
                    </div>
                    <div class="product-content">
                        <h3 class="product-title">@product.Name</h3>
                        <p class="product-description">@product.Description</p>
                        <div class="product-actions">
                            <p class="product-price">$@product.Price.ToString("0.00")</p>
                            <div class="product-buttons">
                                <form asp-action="AddToCart" asp-controller="Cart" method="post" class="add-to-cart-form">
                                    <input type="hidden" name="productId" value="@product.Id" />
                                    <div class="quantity-group">
                                        <select name="quantity" class="quantity-select">
                                            @for (int i = 1; i <= 10; i++)
                                            {
                                                <option value="@i">@i</option>
                                            }
                                        </select>
                                        <button type="submit" class="btn btn-add-cart">Agregar al Carrito</button>
                                    </div>
                                </form>
                                <a href="@Url.Action("Details", "Products", new { id = product.Id })" 
                                   class="btn btn-view-details">Ver Detalles</a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function filterByCategory() {
            var category = document.getElementById('categoryFilter').value;
            window.location.href = '/Products/Index' + (category ? '?category=' + category : '');
        }
    </script>
}